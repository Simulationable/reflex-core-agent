@page
@model ReflexCoreAgent.Pages.CompanyProfile.IndexModel
@{
    ViewData["Title"] = "Company Profile";
}

<div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl font-bold text-gray-900 mb-2">🏢 โปรไฟล์บริษัท</h1>
    <p class="text-gray-500 text-sm mb-6">จัดการข้อมูลของบริษัท เช่น ชื่อ ที่อยู่ เบอร์โทร และโลโก้</p>

    <form method="post" enctype="multipart/form-data" class="space-y-6 bg-white p-6 border border-gray-200 rounded-xl shadow">
        @Html.AntiForgeryToken()

        <div>
            <label asp-for="Profile.CompanyName" class="block text-sm font-medium text-gray-700">ชื่อบริษัท</label>
            <input asp-for="Profile.CompanyName" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring focus:ring-blue-100" />
            <span asp-validation-for="Profile.CompanyName" class="text-red-500 text-sm" />
        </div>

        <div>
            <label asp-for="Profile.Address" class="block text-sm font-medium text-gray-700">ที่อยู่</label>
            <textarea asp-for="Profile.Address" rows="3" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring focus:ring-blue-100"></textarea>
            <span asp-validation-for="Profile.Address" class="text-red-500 text-sm" />
        </div>

        <div>
            <label asp-for="Profile.Phone" class="block text-sm font-medium text-gray-700">เบอร์โทรศัพท์</label>
            <input asp-for="Profile.Phone" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm px-3 py-2 focus:ring focus:ring-blue-100" />
            <span asp-validation-for="Profile.Phone" class="text-red-500 text-sm" />
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700">โลโก้บริษัท</label>
            <input type="file" name="LogoFile" accept="image/*" class="mt-2 block w-full text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" />
            @if (!string.IsNullOrEmpty(Model.Profile.LogoBase64))
            {
                <div class="mt-4">
                    <p class="text-xs text-gray-500 mb-1">โลโก้ปัจจุบัน:</p>
                    <img src="data:image/png;base64,@Model.Profile.LogoBase64" alt="โลโก้บริษัท" class="h-24 rounded border border-gray-200 shadow-sm" />
                </div>
            }
        </div>

        <div class="pt-4">
            <button type="submit" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md shadow hover:bg-blue-700 transition">
                💾 บันทึกข้อมูล
            </button>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
